// Получение данных об организациях/контрагентах

СведенияОбОрганизации = ФормированиеПечатныхФорм.СведенияОЮрФизЛице(Организация, СсылкаНаДокумент.Дата);

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Дата елочкой

Формат(СсылкаНаДокумент.Дата, "ДФ='«дд» ММММ гггг'")

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Получение данных о сотруднике
					
РукДолжность = КадровыйУчет.КадровыеДанныеСотрудника(Истина, СотрРук, "Должность", Дата);

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Создание новой записи в истории ФИО

ОЛФИО = ФизическиеЛицаУТ.ФамилияИнициалыФизЛица(ОбъектОтветственногоЛица.ТекущийОтветственный); 

Если Не ЗначениеЗаполнено(ОЛФИО) тогда
	СозданиеНовойЗаписиВИсторииФИО(ОбъектОтветственногоЛица.ТекущийОтветственный);
	ОЛФИО = ФизическиеЛицаУТ.ФамилияИнициалыФизЛица(ОбъектОтветственногоЛица.ТекущийОтветственный);
КонецЕсли;

Процедура СозданиеНовойЗаписиВИсторииФИО(ОбъектОтветственногоЛица);
	
	МассивЧастейФИО = СтрРазделить(ОбъектОтветственногоЛица, " ");
	
	Если МассивЧастейФИО.Количество() > 0 тогда
		Фамилия  = ?((МассивЧастейФИО.Количество() >= 1), МассивЧастейФИО[0], "");  
		Имя 	 = ?((МассивЧастейФИО.Количество() >= 2), МассивЧастейФИО[1], "");  
		Отчество = ?((МассивЧастейФИО.Количество() >= 3), МассивЧастейФИО[2], "");  					
		
		НоваяЗапись = РегистрыСведений.ФИОФизическихЛиц.СоздатьМенеджерЗаписи();
		
		НоваяЗапись.Период          = НачалоГода(ТекущаяДатаСеанса());
		НоваяЗапись.Фамилия  		= Фамилия;
		НоваяЗапись.Имя      		= Имя;
		НоваяЗапись.Отчество 		= Отчество;
		НоваяЗапись.ФизическоеЛицо 	= ОбъектОтветственногоЛица; 
		НоваяЗапись.Инициалы 		= ?(ЗначениеЗаполнено(Имя),Лев(Имя,1)+ ".","") + ?(ЗначениеЗаполнено(Отчество),Лев(Отчество,1)+ ".",""); 
		НоваяЗапись.ФИОСлужебные 	= НоваяЗапись.Фамилия + " " + НоваяЗапись.Инициалы;					
		НоваяЗапись.Записать();
	КонецЕсли; 
	
КонецПроцедуры

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
